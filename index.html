<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>itertools - python modules - edmonton python</title>

		<meta name="author" content="Daniel Nephin">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="reveal.js/css/reveal.min.css">
		<link rel="stylesheet" href="reveal.js/css/theme/default.css" id="theme">
        <link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'>

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
            var css = window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper';
			document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + css + 
                            '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="reveal.js/lib/js/html5shiv.js"></script>
		<![endif]-->

		<script src="reveal.js/lib/js/head.min.js"></script>
        <style>

.reveal h1 {
    text-transform: none;
    font-family: 'Droid Sans Mono', monospace;
}

.reveal pre code {
    padding-left: 50px;
}

        </style>
	</head>

	<body>

		<div class="reveal">
			<div class="slides">

				<section>
                    <h1>itertools</h1>
                    <p><small>A lightning talk by <a href="http://danielnephin.net">Daniel Nephin</a></small></p>
				</section>

                <section>
                    <blockquote cite="http://docs.python.org/3.1/library/itertools.html">
                    [itertools] standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an &ldquo;iterator algebra&rdquo; making it possible to construct specialized tools succinctly and efficiently in pure Python.
                    </blockquote>

                </section>

                <section>
                    <h2>ISLICE</h2>
                    <pre><code class="python">
import itertools

# range(200)[5:10]
itertools.islice(range(200), 5, 10)) 
# [5, 6, 7, 8, 9]


def view(seq, stop=10):
    return list(itertools.islice(seq, stop))
                    </pre></code>
                </section>


                <section>
                    <h2>Infinite Iterators</h2>
                    <pre><code class="python">
>>> itertools.count(start=3, step=2)
3, 5, 7, 9, 11, 13, 15, 17, 19, 21, ...

>>> itertools.cycle(range(3))
0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, ...

>>> itertools.repeat('a')
'a', 'a', 'a', 'a', 'a', 'a', 'a', ...
                    </pre></code>
                </section>

                <section>
                    <h2>Filtering Iterators</h2>
                    <pre><code class="python">
>>> eq_to_six = functools.partial(operator.eq, 6)
>>> filter(eq_to_six, range(200))  # itertools.ifilter in 2.x
6

>>> itertools.filterfalse(eq_to_six, range(200))
0, 1, 2, 3, 4, 5, 7, 8, 9, 10, ...

>>> lt_six = functools.partial(operator.gt, 6)
>>> itertools.dropwhile(lt_six, range(200))
6, 7, 8, 9, 10, 11, 12, 13, 14, 15, ...

>>> itertools.takewhile(lt_six, range(200))
0, 1, 2, 3, 4, 5
                    </pre></code>
                </section>

                <section>
                    <h2>Combining and Splitting Iterators</h2>
                    <pre><code class="python">
>>> itertools.chain(['a', 'b', 'c'], [1, 2, 3])
'a', 'b', 'c', 1, 2, 3 

>>> itertools.zip_longest(range(3), string.ascii_lowercase)
(0, 'a'), (1, 'b'), (2, 'c'), (None, 'd'), (None, 'e'), ...

>>> keyfunc = lambda v: v // 3
>>> itertools.groupby(range(10), key=keyfunc)
(0, [1, 2]), (1, [3, 4, 5]), (2, [6, 7, 8]), ...

>>> itertools.tee(range(4), 3)
(0, 1, 2, 3), (0, 1, 2, 3), (0, 1, 2, 3)
                    </pre></code>
                </section>

                <section>
                    <h2>Combinatoric Generators</h2>
                    <pre><code class="python">
>>> itertools.product('ABCD', 'xy')
('A', 'x'), ('A', 'y'), ('B', 'x'), ('B', 'y'), ('C', 'x'), ...

>>> itertools.combinations('abc', 2)
('a', 'b'), ('a', 'c'), ('b', 'c')

>>> itertools.permutations('abc')
('a', 'b', 'c'), ('a', 'c', 'b'), ('b', 'a', 'c'), ...
                    </pre></code>
                </section>

                <section>
                    <h2>itertool gems</h2>
                </section>

                <section>
                    <h2>Period</h2>

                    <pre><code class="python">
import itertools, operator

period = 200
cycles = map(operator.not_, itertools.cycle(range(period)))

# iterate forever
for cycle_is_complete in cycles:
    if cycle_is_complete:
        # Do occasionally
        ...
    # Do this every time
    ...
                    </pre></code>
                </section>

                <section>
                    <h2>Flatten</h2>

                    <pre><code class="python">
import itertools

nested_lists = [
    [1, 2, 3],
    [12, 19, 20],
    [20, 40, 50],
]
itertools.chain.from_iterable(nested_lists)
1, 2, 3, 12, 19, 20, 20, 40, 50
                    </pre></code>
                </section>

                <section>
                    <h2>Segment</h2>

                    <pre><code class="python">
import itertools, string

def grouper(n, iterable, fillvalue=None):
    seq = itertools.repeat(iter(iterable), n)
    return itertools.zip_longest(*seq, fillvalue=fillvalue)

grouper(3, string.ascii_lowercase)
('a', 'b', 'c'), ('d', 'e', 'f'), ('g', 'h', 'i'), ...
                    </pre></code>
                </section>

                <section>
                    <h2>Dot Product</h2>

                    <pre><code class="python">
import operator

def dot_product(vec1, vec2):
    return sum(map(operator.mul, vec1, vec2))

dot_product([1, 4, 5], [6, 2, 3])
29
                    </pre></code>
                </section>

                <section>
                    <a href="http://docs.python.org/library/itertools.html">
                    docs.python.org/library/itertools.html</a>
                </section>

			</div>
		</div>

		<script src="reveal.js/js/reveal.min.js"></script>
		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls:       false,
				progress:       true,
				history:        true,
				center:         true,
                rollingLinks:   false,
				transition:     'zoom', // default/cube/page/concave/zoom/linear/fade/none
				theme:          'moon',

				dependencies: [
					{ src: 'reveal.js/lib/js/classList.js',
                      condition: function() { return !document.body.classList; } },
					{ src: 'reveal.js/plugin/markdown/marked.js',
                      condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/markdown/markdown.js',
                      condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'reveal.js/plugin/highlight/highlight.js', async: true,
                      callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true,
                      condition: function() { return !!document.body.classList; } },
					{ src: 'reveal.js/plugin/notes/notes.js', async: true,
                      condition: function() { return !!document.body.classList; } }
                    /*
					{ src: 'reveal.js/plugin/search/search.js', async: true,
                      condition: function() { return !!document.body.classList; } }
					{ src: 'reveal.js/plugin/remotes/remotes.js', async: true,
                      condition: function() { return !!document.body.classList; } }
                    */
				]
			});

		</script>

	</body>
</html>
